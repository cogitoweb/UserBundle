{% extends 'SonataAdminBundle::standard_layout.html.twig' %}

{# Cogitoweb: override "sonata_page_content" to remove "content-header" section #}
{% block sonata_page_content %}
	<section class="content">
		{% block sonata_admin_content %}
			{% block notice %}
				{% include 'SonataCoreBundle:FlashMessage:render.html.twig' %}
			{% endblock notice %}
			<div class="sonata-ba-form login-box">
				<form role="form" action="{{ path('sonata_user_change_password') }}" method="POST">
					<div class="row">
						<div class="col-md-12">
							<div class="row">
								<div class="col-md-12">
									<div class="box box-primary">
										<div class="box-header">
											<h4 class="box-title">{{ 'title_user_edit_authentication'|trans({}, 'SonataUserBundle') }}</h4>
										</div>
										<div class="box-body">
											<div class="sonata-ba-collapsed-fields">
												<div class="form-group{% if form.current_password.vars.errors|length > 0 %} has-error{% endif %}">
													<label class="control-label required" for="fos_user_change_password_form_current_password">{{ 'form.current_password'|trans({}, 'FOSUserBundle')|replace({':': ''}) }}</label>
													<div class="sonata-ba-field sonata-ba-field-standard-natural">
														<input type="password" id="fos_user_change_password_form_current_password" name="fos_user_change_password_form[current_password]" required="required"  class="form-control" />
														{% if form.current_password.vars.errors|length > 0 %}
															<div class="help-block sonata-ba-field-error-messager">
																<ul class="list-unstyled">
																	{% for error in form.current_password.vars.errors %}
																		<li>
																			<i class="fa fa-exclamation-circle" aria-hidden="true"></i>
																			{{ error.message }}
																		</li>
																	{% endfor %}
																</ul>
															</div>
														{% endif %}
													</div>
												</div>
												<div class="form-group{% if form.new.first.vars.errors|length > 0 %} has-error{% endif %}">
													<label class="control-label required" for="fos_user_change_password_form_new_first">{{ 'form.new_password'|trans({}, 'FOSUserBundle')|replace({':': ''}) }}</label>
													<div class="sonata-ba-field sonata-ba-field-standard-natural">
														<input type="password" id="fos_user_change_password_form_new_first" name="fos_user_change_password_form[new][first]" required="required" class="form-control" />
														{% if form.new.first.vars.errors|length > 0 %}
															<div class="help-block sonata-ba-field-error-messager">
																<ul class="list-unstyled">
																	{% for error in form.new.first.vars.errors %}
																		<li>
																			<i class="fa fa-exclamation-circle" aria-hidden="true"></i>
																			{{ error.message }}
																		</li>
																	{% endfor %}
																</ul>
															</div>
														{% endif %}
													</div>
												</div>
												<div class="form-group{% if form.new.second.vars.errors|length > 0 %} has-error{% endif %}">
													<label class="control-label required" for="fos_user_change_password_form_new_second">{{ 'form.new_password_confirmation'|trans({}, 'FOSUserBundle')|replace({':': ''}) }}</label>
													<div class="sonata-ba-field sonata-ba-field-standard-natural">
														<input type="password" id="fos_user_change_password_form_new_second" name="fos_user_change_password_form[new][second]" required="required" class="form-control" />
														{% if form.new.second.vars.errors|length > 0 %}
															<div class="help-block sonata-ba-field-error-messager">
																<ul class="list-unstyled">
																	{% for error in form.new.second.vars.errors %}
																		<li>
																			<i class="fa fa-exclamation-circle" aria-hidden="true"></i>
																			{{ error.message }}
																		</li>
																	{% endfor %}
																</ul>
															</div>
														{% endif %}
													</div>
												</div>
												{{ form._token is defined ? form_widget(form._token) }}
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="sonata-ba-form-actions well well-small form-actions">
						<button type="submit" class="btn btn-success btn-block">
							<i class="fa fa-save" aria-hidden="true"></i> {{ 'change_password.submit'|trans({}, 'FOSUserBundle') }}
						</button>
					</div>
				</form>
			</div>
		{% endblock %}
	</section>
{% endblock %}